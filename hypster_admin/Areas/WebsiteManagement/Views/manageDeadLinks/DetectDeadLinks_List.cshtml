@model List<hypster_tv_DAL.Playlist>
@{
    Layout = null;

    int interval = 250;
}



<div style=" float:left; width:100%;">

    @foreach (var item in Model)
    {
        <div id="list_playlist_@item.id" style=" float:left; width:100%; height:24px; line-height:24px; margin:7px 0 0 0; cursor:pointer; background-color:#232323; overflow:hidden;">
            
            <div style=" float:left; width:70%; ">@item.name</div>

            <div id="list_playlist_counter_@item.id" onclick="CheckPlaylist_DeadLinks_CHECK(@item.id)" style=" float:left; width:15%; background-color:#454545; text-align:center;">check</div>
            <div onclick="CheckPlaylist_DeadLinks_VIEW(@item.id)" style=" float:left; width:15%; background-color:#555555; text-align:center;">view</div>

        </div>
    }


    <div onclick="CHECK_ALL_PLAYLISTS()" style=" float:left; width:180px; height:23px; background-color:#CC0000; margin:7px 0 0 0; text-align:center; cursor:pointer;">
        CHECK ALL
    </div>

</div>



<script type="text/javascript">

    //check all playlists for dead links with interval 15 sec
    // also reset check counter to 0
    //
    function CHECK_ALL_PLAYLISTS() {
        
        @foreach (var item in Model)
        {
            <text> setTimeout( function(){ CheckPlaylist_DeadLinks_CHECK(@item.id); 
                                           $("#list_playlist_counter_@item.id").html("0"); }, 
                                            @interval ); </text>

            interval += 15000;
        }

    }

</script>